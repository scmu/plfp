<!DOCTYPE html>
<html lang="en-us">

  <head>
  <!---
  <link href="http://gmpg.org/xfn/11" rel="profile">
  -->
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      工具 &middot; 程式語言：函數程式設計
    
  </title>

  
      
  <link rel="canonical" href="https://scmu.github.io/plfp/pages/tools.html">
      
  

  <link rel="stylesheet" href="https://scmu.github.io/plfp/css/poole.css">
  <link rel="stylesheet" href="https://scmu.github.io/plfp/css/syntax.css">
  <link rel="stylesheet" href="https://scmu.github.io/plfp/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <!---
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="{{ '/public/apple-touch-icon-precomposed.png' | absolute_url }}">
  <link rel="shortcut icon" href="{{ '/public/favicon.ico' | absolute_url }}">
  -->

  <link rel="alternate" type="application/rss+xml" title="RSS" href="https://scmu.github.io/plfp/atom.xml">

  <!--- deactivate google analytics
  {% if site.google_analytics_id %}
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', '{{ site.google_analytics_id }}', 'auto');
    ga('send', 'pageview');
  </script>
  {% endif %}
  -->
</head>


  <body class="theme-base-0d">

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>Programming Languages: Functional Programming</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="https://scmu.github.io/plfp">Home</a>

    <!--- The code below dynamically generates a sidebar nav of the files in the folder /pages -->

    
      
        <a class="sidebar-nav-item" href="https://scmu.github.io/plfp/pages/refs.html">參考資料</a>
      
    
      
        <a class="sidebar-nav-item" href="https://scmu.github.io/plfp/pages/syllabus.html">大綱與講義</a>
      
    
      
        <a class="sidebar-nav-item active" href="https://scmu.github.io/plfp/pages/tools.html">工具</a>
      
    

    <!--- a class="sidebar-nav-item" href="https://scmu.github.io/plfp/archive.html">Archive</a -->

    <!--- a class="sidebar-nav-item" href="https://github.com/hahey/lanyon-hakyll">GitHub project</a -->

  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2023. All rights reserved.
    </p>
    <p>
        <img src="https://scmu.github.io/plfp/images/haskell-logo.png" class="logo" style="display: inline;" />
        Site created with
        <a href="https://jaspervdj.be/hakyll">Hakyll</a>.
        <br>
        Modified theme
        <a href="https://github.com/hahey/lanyon-hakyll">lanyon-hakyll</a>
        based on
        <a href="https://lanyon.getpoole.com/">Lanyon</a>.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="https://scmu.github.io/plfp" title="Home">程式語言：函數程式設計</a>
            <small>National Taiwan University, 2023</small>
          </h3>
        </div>
      </div>

      <div class="container content">
          <div class="page">
  <h1 class="page-title">工具</h1>
     <h1 id="the-glasgow-haskell-compiler">The Glasgow Haskell Compiler</h1>
<p>本課程使用 <a href="https://www.haskell.org/">Haskell</a> 語言為教學工具。目前最被廣泛使用的 Haskell 實作是 Glasgow Haskell Compiler (GHC), 包含編譯器以及有互動介面的解譯器。</p>
<h2 id="安裝">安裝</h2>
<p>目前<a href="https://www.haskell.org/downloads/">官方推薦的方式</a>是經由 <a href="https://www.haskell.org/ghcup/">GHCup</a> 安裝 GHC, <a href="https://cabal.readthedocs.io/">cabal-install</a> (Haskell 的套件安裝程式）, 以及 <a href="https://github.com/haskell/haskell-language-server">haskell-language-server</a> (HLS, 配合編輯器以及 IDE 使用的支援工具)。</p>
<p>請參照 <a href="https://www.haskell.org/ghcup/">GHCup</a> 的指示安裝。下指令後，會進入一個選單可選擇要裝哪些項目的選單。除預設的 GHC 與 cabal 等等之外，建議可裝 HLS。除非預備要使用 Haskell 開發大軟體，stack 可暫時不用。系統會抓適合的 GHC 來安裝。</p>
<p>安裝程式會幫忙改系統路徑。之後可能會需要開一個新的 shell/視窗。如在新開的 shell 之中下指令 <code>ghci</code>, 能看到 GHC 的提示符號，就是安裝成功了。</p>
<h2 id="ghci-命令">GHCi 命令</h2>
<p>安裝完畢後，從命令列下指令 ghci 即可進入 Glasgow Haskell Compiler 的互動介面。</p>
<p>常用指令如下。各指令都可只打第一個字母。如 :load 可簡寫為 :l。課堂上用到的指令包括 :load (載入檔案）, :reload （重新載入檔案）, :type <expr> （顯示 expr 的型別）等等。</p>
<pre><code>&lt;statement&gt;                 evaluate/run &lt;statement&gt;
:                           repeat last command
:{\n ..lines.. \n:}\n       multiline command
:add [*]&lt;module&gt; ...        add module(s) to the current target set
:browse[!] [[*]&lt;mod&gt;]       display the names defined by module &lt;mod&gt;
                           (!: more details; *: all top-level names)
:cd &lt;dir&gt;                   change directory to &lt;dir&gt;
:cmd &lt;expr&gt;                 run the commands returned by &lt;expr&gt;::IO String
:ctags[!] [&lt;file&gt;]          create tags file for Vi (default: &quot;tags&quot;)
                           (!: use regex instead of line number)
:def &lt;cmd&gt; &lt;expr&gt;           define command :&lt;cmd&gt; (later defined command has
                           precedence, ::&lt;cmd&gt; is always a builtin command)
:edit &lt;file&gt;                edit file
:edit                       edit last module
:etags [&lt;file&gt;]             create tags file for Emacs  (default: &quot;TAGS&quot;)
:help, :?                   display this list of commands
:info [&lt;name&gt; ...]          display information about the given names
:issafe [&lt;mod&gt;]             display safe haskell information of module &lt;mod&gt;
:kind &lt;type&gt;                show the kind of &lt;type&gt;
:load [*]&lt;module&gt; ...       load module(s) and their dependents
:main [&lt;arguments&gt; ...]     run the main function with the given arguments
:module [+/-] [*]&lt;mod&gt; ...  set the context for expression evaluation
:quit                       exit GHCi
:reload                     reload the current module set
:run function [&lt;arguments&gt; ...] run the function with the given arguments
:script &lt;filename&gt;          run the script &lt;filename&gt;
:type &lt;expr&gt;                show the type of &lt;expr&gt;
:undef &lt;cmd&gt;                undefine user-defined command :&lt;cmd&gt;
:!&lt;command&gt;                 run the shell command &lt;command&gt;</code></pre>
<h1 id="與-ghc-搭配之編輯器">與 GHC 搭配之編輯器</h1>
<p>你可用任何習慣的文字編輯器，但須把程式存為副檔名 “.hs” 的檔案。（有些編輯器會在使用者不知情的情況下將檔名存為 “.hs.txt”。）</p>
<p>Windows 使用者不建議使用 NotePad, 因為該程式不認得 UNIX 的換行符號。其他可能選項包括：</p>
<ul>
<li><a href="https://atom.io/">Atom</a> (Mac OS X, Windows, UNIX), 或其後續計畫 <a href="https://pulsar-edit.dev/">Pulsar</a>. 有 Haskell mode 可安裝。</li>
<li><a href="https://code.visualstudio.com/">VS Code</a> (Mac OS X, Windows, UNIX). 有 Haskell extension 可用。</li>
<li><a href="http://www.gnu.org/s/emacs/">Emacs</a> (Mac OS X, UNIX): 一個歷史悠久，非常強大的編輯器。
<ul>
<li>有 <a href="http://www.haskell.org/haskellwiki/Haskell_mode_for_Emacs">Haskell mode</a> 可安裝。</li>
<li>Mac OS 使用者除了上述的 offical 版本外，也可選擇 <a href="http://aquamacs.org/">Aquamacs</a>.</li>
</ul></li>
<li><a href="http://notepad-plus-plus.org/">NotePad++</a> (Windows): an editor released under GPL license.</li>
<li><a href="https://vim.sourceforge.io/">Vim</a> (Mac OS X, UNIX).</li>
<li><a href="https://www.sublimetext.com/">Sublime Text</a> (Mac OS X, Windows, Linux).</li>
<li><a href="http://eclipsefp.github.com/">Eclipse FP</a> (cross platform): an Eclipse plug-in for Haskell that supports graphical debugging of modules, autocompletion, integration with GHC, etc.</li>
</ul>
<h1 id="agda">Agda</h1>
<p>本課程後半可能使用 <a href="https://wiki.portal.chalmers.se/agda/pmwiki.php">Agda</a>, 一個具有依值型別 (dependent type) 的函數語言。</p>
<p>Agda 使用者需透過編輯器與後端對話。目前官方支援的編輯器是 <a href="http://www.gnu.org/s/emacs/">Emacs</a>, 但由台灣 programmer 開發的 VS Code <a href="https://marketplace.visualstudio.com/items?itemName=banacorn.agda-mode">Agda extension</a>也很成熟，可以試用。</p>
<h2 id="mac-os-與-linux-安裝">Mac OS 與 Linux 安裝</h2>
<p>Mac OS 與 Linux 使用者建議用 <a href="https://brew.sh/">homebrew</a> 安裝。</p>
<ol type="1">
<li><p>先安裝 homebrew. 請到 <a href="https://brew.sh/">homebrew 網頁</a>。</p></li>
<li><p>打開 Terminal. 將上述網頁的指令 copy &amp; paste 到 shell中，安裝即開始。依照螢幕上的指令操作。</p></li>
<li><p>用 homebrew 安裝 Agda. 在 Terminal 中下指令： <code>brew install agda</code> 就會開始安裝。會需要一段時間。</p></li>
<li><p>之後去 VS Code 之中安裝 extension <a href="https://marketplace.visualstudio.com/items?itemName=banacorn.agda-mode">agda-mode</a>.</p></li>
</ol>
<p>安裝好後，開一個新檔案，將<a href="https://agda.readthedocs.io/en/latest/getting-started/hello-world.html">這頁</a>的範例程式 copy and paste 到檔案中。注意 hello 前面需有空格。將檔名存成 <code>hello.agda</code>.然後按 Ctrl-C Ctrl-L （按住 Ctrl, 然後按 c, 再按 l）。如果文字出現有顏色的 highlight, 應該就是安裝成功了。</p>
<h2 id="windows-安裝">Windows 安裝</h2>
<p>建議的方法是安裝 <a href="https://learn.microsoft.com/zh-tw/windows/wsl/about">WSL (Windows Subsystem for Linux)</a>。這相當於在 Windows 中執行一個 Linux, 並把 Agda 裝在裡面。</p>
<p>請參考助教林小喬撰寫之<a href="https://hackmd.io/@chiaoooo/ByJJoJ5HT">Windows 環境 Agda 安裝教學</a>。</p>
<h2 id="常用指令">常用指令</h2>
<p>以下為 VS Code 或 emacs 的 agda-mode 常用之指令。更完整的列表可參考 <a href="https://marketplace.visualstudio.com/items?itemName=banacorn.agda-mode">agda-mode 之說明</a>.</p>
<p><code>C-c</code> 表示「按住 <code>Ctrl</code> 鍵，按 <code>c</code> 鍵，然後一起放開」。 <code>C-c C-l</code> 可以合併為「按住 <code>Ctrl</code> 鍵，按 <code>c</code> 鍵，放開 <code>c</code> 鍵，按 <code>l</code> 鍵，最後一起放開」。</p>
<p>任何時候都可下的指令：</p>
<ul>
<li>load: <code>C-c C-l</code> （注意 <code>l</code> 為小寫 <code>L</code>）</li>
<li>quit and restart: <code>C-x C-r</code></li>
</ul>
<p>游標在<code>{   }</code>中時可下的指令：</p>
<ul>
<li>refine: <code>C-c C-r</code></li>
<li>case split: <code>C-c C-c</code></li>
<li>auto: <code>C-c C-a</code></li>
<li>goal type and context: <code>C-c C-,</code></li>
<li>goal type and context (instantiated): <code>C-u C-,</code> (在 emacs 中是 <code>C-u C-c C-,</code>)</li>
<li>goal type and context (normalized): <code>C-y C-,</code> (在 emacs 中是 <code>C-u C-u C-c C-,</code>)</li>
</ul>
</div>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script src="https://scmu.github.io/plfp/public/js/script.js"></script>

  </body>

</html>
